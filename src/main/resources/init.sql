SET DATABASE DEFAULT TABLE TYPE MEMORY;
CREATE TABLE IF NOT EXISTS PUBLIC.DISKS(DISK_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DISK_TITLE VARCHAR(255) NOT NULL,DISK_HOLDER BIGINT NOT NULL,DISK_OWNER BIGINT NOT NULL,REQUEST_REQ_ID BIGINT)
CREATE TABLE IF NOT EXISTS PUBLIC.REQUESTS(REQ_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,REQ_STATUS VARCHAR(255) NOT NULL,REQ_DISK BIGINT,REQ_USER BIGINT,CONSTRAINT FKGPDWWXXAXPMC8SLG3J4VI7E2V FOREIGN KEY(REQ_DISK) REFERENCES PUBLIC.DISKS(DISK_ID),CONSTRAINT UK31A60GRBQA4N6DCUGCD50PHN0 UNIQUE(REQ_USER,REQ_DISK))
CREATE TABLE IF NOT EXISTS PUBLIC.TAKENITEMS(TI_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,TI_DATE TIMESTAMP,TI_DISK BIGINT,TI_OWNER BIGINT,TI_USER BIGINT,CONSTRAINT FKMTE1RSWURQVLFXRJMFEEWDK4 FOREIGN KEY(TI_DISK) REFERENCES PUBLIC.DISKS(DISK_ID),CONSTRAINT UKH4KMKRIHUQ773PAQEPEPD15Q4 UNIQUE(TI_USER,TI_DISK))
CREATE TABLE IF NOT EXISTS PUBLIC.USERS(USER_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,USER_EMAIL VARCHAR(255) NOT NULL,USER_ENABLED BOOLEAN NOT NULL,USER_PASSWORD VARCHAR(255),USER_NAME VARCHAR(255) NOT NULL,CONSTRAINT UK_33UO7VET9C79YDFUWG1W848F UNIQUE(USER_EMAIL))
ALTER TABLE PUBLIC.DISKS ADD CONSTRAINT FKRQ3PFLKQF2VV48JLQ3BS5YQEG FOREIGN KEY(DISK_HOLDER) REFERENCES PUBLIC.USERS(USER_ID)
ALTER TABLE PUBLIC.DISKS ADD CONSTRAINT FK1L0G7DT42VOWCL4NQJO0Q6OVX FOREIGN KEY(DISK_OWNER) REFERENCES PUBLIC.USERS(USER_ID)
ALTER TABLE PUBLIC.DISKS ADD CONSTRAINT FKA6AW7UXD0YX7FS0BY9DT216H8 FOREIGN KEY(REQUEST_REQ_ID) REFERENCES PUBLIC.REQUESTS(REQ_ID)
ALTER TABLE PUBLIC.REQUESTS ADD CONSTRAINT FK540TUWWNNCVTEF2SJOAJ6U5IK FOREIGN KEY(REQ_USER) REFERENCES PUBLIC.USERS(USER_ID)
ALTER TABLE PUBLIC.TAKENITEMS ADD CONSTRAINT FKFVN2R22MA7WQBN7GK2SXKTY79 FOREIGN KEY(TI_OWNER) REFERENCES PUBLIC.USERS(USER_ID)
ALTER TABLE PUBLIC.TAKENITEMS ADD CONSTRAINT FKJ49Q7T2K2SPN5WF7OUCK85LQH FOREIGN KEY(TI_USER) REFERENCES PUBLIC.USERS(USER_ID)