SET DATABASE DEFAULT TABLE TYPE MEMORY;
CREATE TABLE IF NOT EXISTS PUBLIC.DISKS(DISK_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DISK_TITLE VARCHAR(255) NOT NULL,DISK_HOLDER BIGINT NOT NULL,DISK_OWNER BIGINT NOT NULL);
CREATE TABLE IF NOT EXISTS PUBLIC.USERS(USER_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,USER_EMAIL VARCHAR(255) NOT NULL,USER_ENABLED BOOLEAN NOT NULL,USER_PASSWORD VARCHAR(255),USER_NAME VARCHAR(255) NOT NULL,CONSTRAINT UK_EMAIL UNIQUE(USER_EMAIL));
CREATE TABLE IF NOT EXISTS PUBLIC.REQUESTS(REQ_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,REQ_STATUS INTEGER NOT NULL,REQ_DISK BIGINT,REQ_USER BIGINT,CONSTRAINT FK_REQ_DISK FOREIGN KEY(REQ_DISK) REFERENCES PUBLIC.DISKS(DISK_ID))
ALTER TABLE PUBLIC.DISKS ADD CONSTRAINT FK_DISK_HOLDER FOREIGN KEY(DISK_HOLDER) REFERENCES PUBLIC.USERS(USER_ID);
ALTER TABLE PUBLIC.DISKS ADD CONSTRAINT FK_DISK_OWNER FOREIGN KEY(DISK_OWNER) REFERENCES PUBLIC.USERS(USER_ID);
ALTER TABLE PUBLIC.REQUESTS ADD CONSTRAINT FK_REQ_USER FOREIGN KEY(REQ_USER) REFERENCES PUBLIC.USERS(USER_ID)

